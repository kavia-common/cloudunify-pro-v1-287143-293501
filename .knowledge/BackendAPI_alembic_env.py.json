{"is_source_file": true, "format": "Python", "description": "This file configures Alembic database migrations for a SQLAlchemy-based project, supporting both synchronous and asynchronous database connections, and setting up logging and import paths.", "external_files": ["alembic", "src/api/db.py", "src/api/models", "os", "logging.config", "sys", "pathlib.Path", "sqlalchemy", "sqlalchemy.ext.asyncio", "alembic.context"], "external_methods": ["alembic.context.configure", "alembic.context.run_migrations", "alembic.context.begin_transaction", "alembic.context.is_offline_mode", "sys.path.insert", "os.getenv", "Path.resolve", "Base.metadata"], "published": ["get_database_url", "run_migrations_offline", "do_run_migrations", "run_migrations_online"], "classes": [{"name": "AsyncEngine", "description": "SQLAlchemy async engine class used for asynchronous database connections."}], "methods": [{"name": "str get_database_url()", "description": "Retrieves the database URL from environment variables, defaulting to a SQLite database for development.", "scope": "", "scopeKind": ""}, {"name": "run_migrations_offline()", "description": "Configures and runs Alembic migrations in offline mode.", "scope": "", "scopeKind": ""}, {"name": "do_run_migrations(connection)", "description": "Executes migrations given an existing database connection.", "scope": "", "scopeKind": ""}, {"name": "run_migrations_online()", "description": "Configures and runs Alembic migrations in online mode, supporting asynchronous database engines.", "scope": "", "scopeKind": ""}], "calls": ["alembic.context.configure", "alembic.context.run_migrations", "alembic.context.begin_transaction", "asyncio.run", "create_async_engine", "connection.run_sync", "dispose", "engine_from_config"], "search-terms": ["alembic", "async migrations", "Base.metadata", "DATABASE_URL", "env.py", "SQLAlchemy", "asyncpg", "aiosqlite"], "state": 2, "file_id": 16, "knowledge_revision": 42, "git_revision": "878ec2ea2b1f0d16f6a5088caba9c392e29b3612", "ctags": [{"_type": "tag", "name": "BASE_DIR", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^BASE_DIR = Path(__file__).resolve().parents[1]$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "config", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^config = context.config$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "do_run_migrations", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^def do_run_migrations(connection):$/", "language": "Python", "kind": "function", "signature": "(connection)"}, {"_type": "tag", "name": "get_database_url", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^def get_database_url() -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "run_migrations_offline", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^def run_migrations_offline():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "run_migrations_online", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^async def run_migrations_online():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "target_metadata", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/alembic/env.py", "pattern": "/^target_metadata = Base.metadata$/", "language": "Python", "kind": "variable"}], "hash": "9e1b3d52081153f95a2e2da2e72bb795", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/alembic/env.py", "fields": [{"name": "BASE_DIR = Path(__file__).resolve().parents[1]", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "config = context.config", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "target_metadata = Base.metadata", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"42": "878ec2ea2b1f0d16f6a5088caba9c392e29b3612"}]}