{"is_source_file": true, "format": "Python", "description": "This file contains functions for seeding development users in a database, including helpers for environment variable interpretation, user existence checks, and main seeding logic with environment-configurable default values. It is used primarily during development to ensure certain users are present for testing or demo purposes.", "external_files": ["src.api.db", "src.api.models", "src.api.security"], "external_methods": ["get_session", "get_database_url", "User", "get_password_hash", "verify_password"], "published": ["maybe_seed_dev_users"], "classes": [], "methods": [{"name": "bool _truthy_env(value: Optional[str], default: bool = False)", "description": "Interprets environment variable string values as boolean flags based on common truthy string representations.", "scope": "", "scopeKind": ""}, {"name": "bool _should_seed_default()", "description": "Determines if seeding should occur by default, typically true in development environments or with SQLite databases.", "scope": "", "scopeKind": ""}, {"name": "None _ensure_user(session: AsyncSession, email: str, password: str, role: str, is_active: bool = True)", "description": "Ensures a user with specified email, role, and activation status exists; creates or updates the user as needed, including password hash updates.", "scope": "", "scopeKind": ""}, {"name": "None maybe_seed_dev_users()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["select", "func.lower", "session.execute", "session.commit", "session.add"], "search-terms": ["dev_seed", "seed_users", "environment flags", "development user seeding", "async database seed"], "state": 2, "file_id": 38, "knowledge_revision": 110, "git_revision": "41043e0e28c819cc3f4ebaa2f26cb85a5ce2f254", "revision_history": [{"101": "93035a18be1ee7efd9cac278f28211da731223a7"}, {"103": "378e982de5aa6f5f944521eac338a56dd4d39372"}, {"105": "97985b25aa8e12044e2e74fdd8ce514dc39f4ca4"}, {"110": "41043e0e28c819cc3f4ebaa2f26cb85a5ce2f254"}], "ctags": [{"_type": "tag", "name": "_ensure_user", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/src/api/services/dev_seed.py", "pattern": "/^async def _ensure_user(session: AsyncSession, email: str, password: str, role: str, is_active: b/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(session: AsyncSession, email: str, password: str, role: str, is_active: bool = True)"}, {"_type": "tag", "name": "_should_seed_default", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/src/api/services/dev_seed.py", "pattern": "/^def _should_seed_default() -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "_truthy_env", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/src/api/services/dev_seed.py", "pattern": "/^def _truthy_env(value: Optional[str], default: bool = False) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(value: Optional[str], default: bool = False)"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/src/api/services/dev_seed.py", "pattern": "/^logger = logging.getLogger(\"cloudunify.dev_seed\")$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "maybe_seed_dev_users", "path": "/home/kavia/workspace/code-generation/cloudunify-pro-v1-287143-293501/BackendAPI/src/api/services/dev_seed.py", "pattern": "/^async def maybe_seed_dev_users() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}], "hash": "d9b3bb28082f315f49d072579ec992a9", "format-version": 4, "code-base-name": "BackendAPI", "filename": "BackendAPI/src/api/services/dev_seed.py", "fields": [{"name": "logger = logging.getLogger(\"cloudunify.dev_seed\")", "scope": "", "scopeKind": "", "description": "unavailable"}]}